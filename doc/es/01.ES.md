#### 基本概念

##### 文档

1. ElasticSearch是面向文档的，文档是所有可搜索数据的最小单位

   ```
   日志文件中的日志项
   一本电影的基本信息/一张唱片的详细信息
   MP3播放器里的一首歌/一篇PDF文档中的具体内容
   ```

2. 文档会被序列化为JSON格式，保存在elasticsearch中

   ```
   JSON对象由字段组成
   每个字段都有对应的字段类型(字符串/布尔/数值/日期/二进制/范围类型)
   
   一篇文档包含的一序列字段，类似关系型数据库表中的一条记录
   JSON文档，格式灵活，不需要预先定义格式
   字段类型可以指定或者es自动推断
   支持数组/嵌套
   ```

3. 每个文档都有一个uniqueId

   ```
   可以自己指定id
   或者通过es自动生成
   ```

   

##### 文档元数据

1. _index 文档所属的索引名
2. _type 文档所属的类型名
3. _id 文档唯一id
4. _source 文档的原始json数据
5. _version 文档的版本信息
6. _score 相关性打分



##### 索引

Index 索引是文档的容器，是一类文档的结合

```
1、Index体现了逻辑空间的概念：每个所以都有自己的mapping定义，用于定义包含的文档字段名和字段类型
2、Shared体现了物理空间的概念：索引中的数据分散在Shard上
```

索引的Mapping和Setting

```
Mapping定义文档的字段类型
Setting定义不同的数据分布
```



##### 索引的不同语义

```
索引（名词）：
类似于传统关系型数据库中的一个数据库

索引（动词）
索引一个文档就是存储文档到一个索引中以便他可以被检索和查询到.非常类似于SQL语句中的INSERT语句,

类型（名词）
可以理解成关系型数据库中的表

倒排索引:
关系型数据库通过增加一个索引比如B树到指定列上，以便提升数据检索的速度.ES和Lucene使用了一个叫
倒排索引的结构来达到相同的目的。

默认：一个文档中的所有每一个属性都是被索引的和可搜索的.一个没有倒排索引的属性是不可能被搜索到的。
```



##### 与关系型数据库类比

| 关系型数据库   | ElasticSearch |
| -------------- | ------------- |
| Table          | Index(type)   |
| Row            | Document      |
| Column(字段)   | Field         |
| Schema(数据库) | Mapping       |
| Sql            | DSL           |



##### 倒排索引

